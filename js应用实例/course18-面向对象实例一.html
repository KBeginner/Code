<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>course18-面向对象实例</title>
		<style>
			#parentDiv{
				width: 300px;height: auto;background: #ccc;
			}
			#parentDiv button{
				margin: 0;width: 55px;height: 30px;
			}
			.active{background: #0000FF;border: 0;}
			#parentDiv div{
				width: 100%;height: 250px;background: #375069;display: none;margin-top:1px ;color: #fff;
			}
		</style>
	</head>
	<body>
		<h3>面向对象选项卡</h3>
		<p> 把面向过程的程序，改写成面向对象程序。
			 步骤：1.使函数没有嵌套；2.onload变成构造函数，把变量变成属性，函数变成方法；
		</p>
		<div id="parentDiv">
			<button class="active">aaa</button>
			<button>bbb</button>
			<button>ccc</button>
			
			<div style="display: block;">111111111111111111111</div>
			<div>222222222222222222222</div>
			<div>333333333333333333333</div>
		</div>
		
		<script>
			//面向过程的函数
/*			window.onload=function(){
				var oDiv=document.getElementById("parentDiv");
				var aBtn=oDiv.getElementsByTagName("button");
				var aDiv=oDiv.getElementsByTagName("div");
				for(var i=0; i<aBtn.length; i++){
					aBtn[i].index=i;
					aBtn[i].onclick=function(){
						for (var i=0; i<aBtn.length; i++) {
							aBtn[i].className="";
							aDiv[i].style.display="none";
						}
						this.className="active";
						aDiv[this.index].style.display="block";
					}				
				}
			};
*/			
			//面向对象的函数
			function TabSwitch(id) {				
				var _this=this;
				var oDiv=document.getElementById(id);
				this.aBtn=oDiv.getElementsByTagName("button");	//属性
				this.aDiv=oDiv.getElementsByTagName("div");
				
				for(var i=0; i<this.aBtn.length; i++) {
					this.aBtn[i].index=i;
					this.aBtn[i].onclick=function(){
						_this.fnClick(this);
					};
				}
			};
			TabSwitch.prototype.fnClick=function(oBtn) {	//方法
				for (var i=0; i<this.aBtn.length; i++) {
					this.aBtn[i].className="";
					this.aDiv[i].style.display="none";
				}
				oBtn.className="active";
				this.aDiv[oBtn.index].style.display="block";
			};
			
			window.onload=function(){
				new TabSwitch("parentDiv");		//对象
			}
		</script>
	</body>
</html>
