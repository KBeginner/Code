<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>course22-Cookie基础与应用</title>
	</head>
	<body>
		<!---------------- cookie ------------------>
		<h3>cookie：用于保存用户登录信息（一个网站共用一套cookie，数量大小有限，有期限）</h3>
		<button id="btn">cookie</button>
		<script>
		/*	var oBtn=document.getElementById("btn");	
			oBtn.onclick=function(){
				document.cookie = "user=blue";		//添加cookie（cookie可以添加多个）
				document.cookie = "pass=12345";
				alert(document.cookie);			//调用
			}	*/
		</script>
		
		
		<!---------------- 设定时间 ------------------><hr />
		<h3>设定时间</h3>
		<button id="btn1">cookie</button>
		<script>
			var oBtn2=document.getElementById("btn1");	
			oBtn2.onclick=function(){
				var oDate = new Date();				//新建一个时间对象
				oDate.setDate(oDate.getDate()+7);	//设置时间
				alert(oDate.getFullYear()+"-"+(oDate.getMonth()+1)+"-"+oDate.getDate());
			}
		</script>
		
		
		<!---------------- 给cookie设定期限 ------------------>
		<h3>给cookie设定期限</h3>
		<button id="btn2">有期限的cookie</button>
		<script>
			var oBtn3=document.getElementById("btn2");	
			oBtn3.onclick=function(){
				var oDate = new Date();
				oDate.setDate(oDate.getDate()+7);	//设置期限
				document.cookie = "有期限cookie=12858; expires=" + oDate;		//expires=oDate为期限
				alert(document.cookie);			
			}	
		</script>
		
		
		<!---------------- 封装cookie函数 ------------------>
		<h3>封装cookie函数</h3>
		<button id="btn3">封装cookie函数</button>
		<script>
			//设置cookie
			function setCookie(name, value, numDay) {
				var oDate = new Date();
				oDate.setDate(oDate.getDate()+numDay);
				document.cookie= name+"="+value +"; expires="+oDate ;
			}			
			//读取cookie
			function getCookie(name) {
				var 01arr = document.cookie.split(";");	//把cookie从“：”处分割
				for (var i=0; i<arr.length; i++) {
					var arr1=arr[i].split("=");		//把arr数组里的每个cookie再次从“=”处分割，剩下两份cookie名和cookie值
					if (arr1[0]==name) {		//arr1[0]就是arr1数组cookie的名字，如果有这个cookie则输出相应值
						return arr1[1]			//arr1[1]为arr1数组的cookie值
					}
				}
				return "";
			}
			//删除cookie
			function removeCookie(name){
				setCookie(name, 1, -1);		//把cookie的期限设置为-1，计算机识别为昨天已经过期，从而删除cookie
			}
			var oBtn4=document.getElementById("btn3");	
			oBtn4.onclick=function(){
				setCookie('user', 'blue', 5);		//通过查看页面信息来查看cookie
//				removeCookie("user");
				alert(getCookie("user"));
			}
		</script>
	</body>
</html>
