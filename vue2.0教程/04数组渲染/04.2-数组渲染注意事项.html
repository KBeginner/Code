<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>04.2-数组渲染注意事项</title>
    <script src="../../vue.js"></script>

</head>
<body>
    <!--
        改变vue数组里的元素：Vue.set(target, index, value)
       （target：改变的数组，index：需要改变的元素索引，value：改变成的元素）
    -->
    <div id="app">
        <h2>Vue.set()改变数组元素</h2>
        <span>{{arr}}</span>
        <button v-on:click="changeArr">click</button>

        <h2>push()往数组里添加元素</h2>

        <!-- v-bind:key="item.id" 给子级标签都绑定一个key设置独立id -->
        <div v-for="item in persons" v-bind:key="item.id">
            {{ item.id }} {{item.name}} <input type="text">
        </div>
        <button v-on:click="add">addEle</button>
        <button v-on:click="reverse">reverse</button>
    </div>
    <script>
        new Vue({
            el: "#app",
            data: {
                arr: [1,3,5,96,1,18],
                persons: [{
                    id: 1,
                    name: "tom"
                },{
                    id: 2,
                    name: "jack"
                },{
                    id: 3,
                    name: "jobs"
                }]
            },
            methods: {
                changeArr : function () {
                    Vue.set(this.arr, 3, 666);      //Vue.set()改变数组元素
                },
                add : function () {
                    this.persons.push({             //向数组中添加元素
                        id: 4,
                        name: "Gete"
                    },{
                        id: 5,
                        name: "pony"
                    })
                },
                reverse : function () {
                    this.persons.reverse()          //翻转数组
                }
            }
        })
    </script>

    <!--
        总结：
        1、Vue.set(targetArr, index, value)设置数组元素。
        2、vue里可以重写原数组的方法：push(), reverse(), pop(), shift(), unshift(), splice(), sort(), concat()
        3、在父级绑定key给每个子级添加独立id，如 v-bind:key="item.id"。
    -->
</body>
</html>