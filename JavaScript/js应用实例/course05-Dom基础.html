<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>course5-Dom基础</title>
		<style>
			ul#oUl{width: 300px;}
			ul#oUl li{padding: 0;margin: 10px 0;}
			#parentDiv{
				width: 200px;height: 200px;background-color: #375069;position: relative;
			}
			#childDiv{
				width: 100px;height: 100px;background: red;position: absolute;top: 50px;left: 50px;
			}
		</style>
	</head>
	<body>
		<!----------------childNodes/children子节点的应用，childType ------------------>
		<h3>childNodes/children子节点的应用，childType：节点类型</h3>
		<p>childNodes选择的节点包括文本节点和元素节点，children只选择元素节点</p>
		<input id="btn" type="button"  value="childNodes"/>
		<input id="btn1" type="button" value="children" />
		<ul id="oUl">			
			<!--这里是文本节点-->
			<li><!--这里是元素节点-->1</li>
			<li>2</li>
		</ul>
		<script>
			var Ul=document.getElementById("oUl");
			var btn=document.getElementById("btn");
			var btn1=document.getElementById("btn1");
			btn.onclick=function(){
				for(var i=0; i<Ul.childNodes.length; i++){
					//nodeType==3  文本节点
					//nodeType==1  元素节点						
//					alert(Ul.childNodes[i].nodeType);		//查看节点类型
					
					if(Ul.childNodes[i].nodeType==1){					//类型为1，则为元素节点			
						Ul.childNodes[i].style.background="red";		//改变元素节点的背景色为red
					}
				}
			};
			btn1.onclick=function(){
				for(var i=0; i<Ul.childNodes.length; i++){
//					alert(oUl.children[i].nodeType);	
					Ul.children[i].style.background="blue";			//改变元素节点的背景色为blue
				}
			
			};
		</script>
		
		
		<!---------------- parentNode父节点的应用 ：子节点依次往上找------------------>
		<h3>parentNode父节点的应用 ：子节点依次往上找</h3>
		<ul id="oUl1">					
			<li>children1 <a href="javascript:">隐藏</a></li>
			<li>children2 <a href="javascript:">隐藏</a></li>
			<li>children3 <a href="javascript:">隐藏</a></li>
			<li>children4 <a href="javascript:">隐藏</a></li>
			<li>children5 <a href="javascript:">隐藏</a></li>
		</ul>
		<script>
			var oUl=document.getElementById("oUl1");
			var aLi=oUl.getElementsByTagName("li");
			var aA=document.getElementsByTagName("a");
//			alert(oUl.parentNode);						//查看父节点类型
			for(var i=0; i<aA.length; i++){
				aA[i].onclick=function(){
					this.parentNode.style.display="none";			//使用parentNode找到a的父节点li
				}
			}
		</script>
		
		
		<!---------------- offsetParent父节点的应用 ：依次往上找具有定位的父节点（类似于css里的position）------------------>
		<h3>offsetParent父节点的应用 ：依次往上找到定位的父节点（类似于css里的position定位）</h3>
		<input id="oBtn" type="button" value="offsetParent" />
		<div id="parentDiv">		<!--父节点position:relative-->
			<div id="childDiv"></div>	<!--父节点position:absolute-->
		</div>
		<script>
			var oChild=document.getElementById("childDiv");	
			var oBtn=document.getElementById("oBtn");
			oBtn.onclick=function(){
				alert(oChild.offsetParent);						//使用offsetParent找到上一个定位父节点
			}			
		</script>
		
		
		<!---- firstChild(ie6-ie8)/firstElementChild(高版本)、lastChild/lastElementChild, 类似还有nextSibling、previousSibling ---->
		<h3>首尾节点、兄弟节点</h3>
		<p>首尾节点：firstChild(ie6-ie8) / firstElementChild(高版本)，lastChild / lastElementChild</p>
		<p>兄弟节点：nextSibling(ie6-ie8) / nextElementSibling(高版本)，previousSibling / previousElementSibling</p>
		<input id="oBtn1" type="button" value="首尾节点" />
		<input id="oBtn2" type="button" value="兄弟节点" />
		<ul id="oUl2">
			<li>1</li>
			<li id="secondChild">2</li>
			<li>3</li>
			<li>4</li>
		</ul>
		<script>
			var oBtn=document.getElementById("oBtn1");
			var oBtn1=document.getElementById("oBtn2");
			
			//首尾节点
			oBtn.onclick=function(){
				var oUl=document.getElementById("oUl2");
				
				if(oUl.firstElementChild){			//高版本浏览器执行
					oUl.firstElementChild.style.background="blue";		//首节点				
					oUl.lastElementChild.style.background="red";		//尾节点
				}
				else{								//低版本浏览器执行
					oUl.firstChild.style.background="blue";
					oUl.lastChild.style.background="red";
				}
				
			};
			
			//兄弟节点
			oBtn1.onclick=function(){
				var oSecondChild=document.getElementById("secondChild");
				
				if(oSecondChild.nextElementSibling){			//高版本浏览器执行
					oSecondChild.nextElementSibling.style.background="blue";		//下一个节点			
					oSecondChild.previousElementSibling.style.background="red";		//收一个节点
				}
				else{								//低版本浏览器执行
					oSecondChild.nextSibling.style.background="blue";
					oSecondChild.previousSibling.style.background="red";
				}
				
			}
		</script>
		
		
		<!----- 操纵元素属性 ：obj.propertyName='value', obj['propertyName']='value', obj.setAttribute('propertyName', 'value')------------------>
		<h3>操纵元素属性 ：</h3>
		<p>obj.propertyName='value' 、 obj['propertyName']='value' 、 obj.setAttribute('propertyName', 'value')</p>
		<input id="txt" type="text" />
		<input id="oBtn3" type="button" value="设置属性" />
		<input id="oBtn4" type="button" value="获取属性" />
		<input id="oBtn5" type="button" value="删除属性" />
		
		<script>
			var oBtn=document.getElementById("oBtn3");
			var oBtn1=document.getElementById("oBtn4");
			var oBtn2=document.getElementById("oBtn5");
			var oTxt=document.getElementById("txt");
			oBtn.onclick=function(){				
//				oTxt.value="6165816516516";				
//				oTxt['value']="1111111111111";				
				oTxt.setAttribute('value','566666666');			//设置属性			
			};
			oBtn1.onclick=function(){						
				alert(oTxt.getAttribute('value'));				//获取属性				
			};
			oBtn2.onclick=function(){						
				oTxt.removeAttribute('value');						//删除属性				
			}
		</script>
		
		
		<!---------------- className获取子节点 ：封装一个getByClass函数来获取子节点------------------>
		<h3>className获取子节点 ：封装一个getByClass函数来获取子节点</h3>
		<input id="oBtn6" type="button" value="getByClass" />
		<ul id="oUl3">
			<li class="box">a</li>
			<li>b</li>
			<li class="box">c</li>
			<li>d</li>
		</ul>
		
		<script>
			
			//一个父节点包含了多个子节点，通过className来获取某些子节点，一个封装函数
			function getByClass(oParent, sClass)
			{	
				var aResult=[];				//声明一个空数组，存放class类的元素节点
				var aChildren=oParent.getElementsByTagName("*");
				for(var i=0; i<aChildren.length; i++)
				{
					if(aChildren[i].className==sClass)		
					{
						aResult.push(aChildren[i]);		//class类的元素节点，堆放到aResult[]数组里
					}
				}
				return aResult;		
			};
			var oUl=document.getElementById("oUl3");
			var btn=document.getElementById("oBtn6");
			var aBox=getByClass(oUl, 'box');			//调用getByClass()函数，选择class类的元素节点
			
			btn.onclick=function()
			{	
				for(var i=0; i<aBox.length; i++)
				{	
					aBox[i].style.background="blue";	//设置class元素节点为蓝色
				}
			}
			
		</script>
		
		
		
		
		
		
		
		
		
		
		
	</body>
</html>
