<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>course6-Dom进阶</title>
	</head>
	<body onkeydown="enterAdd()">
		
		<!---------------- 创建、插入和删除元素 ------------------>
		<h3>创建、插入和删除元素</h3>
		<p>createElement(标签名)：创建一个标签</p>
		<p>appendChild(节点)：尾部增加一个节点</p>
		<p>insertBefore("节点","在谁之前")：在指定节点前插入新节点</p>
		<p>removeChild(节点)：删除一个节点</p>
		<p style="color: red;">Enter回车键绑定创建事件：body里添加敲击键盘执行函数，如onkeydown="函数()"</p>
		<input id="txt" type="text" placeholder="输入内容" />
		<input id="btn" type="button" value="创建" onclick="addLi()" />
		<ul id="Ul">
		</ul>
		<script>
			var oTxt=document.getElementById("txt");
			var btn=document.getElementById("btn");
			var oUl=document.getElementById("Ul");
			function addLi()
			{
				var oLi=document.createElement("li");			//creatElement()创建一个新标签
				var aLi=oUl.getElementsByTagName("li");
				oLi.innerHTML=oTxt.value;						//把文本框输入的值 赋值给li
				oTxt.value="";				//创建成果后，文本框清空
				if(aLi.length>0)			//当存在节点时，从头部插入
				{
					oUl.insertBefore(oLi, aLi[0])				//头部插入一个节点
				}else						//当没有节点时，新增一个
				{
					oUl.appendChild(oLi);						//尾部增加一个节点
				}			
				
			};
			function enterAdd()			//当按下回车键后，执行addLi()		
			{		
				if(event.keyCode==13 && oTxt.value!="")		//当敲击Enter键并且文本框不为空时，执行addLi		
				{
					addLi();
				}
				
			}
		</script>
		
		
		<!---------------- removeChild()删除元素 ------------------><hr />
		<h3>removeChild()删除元素</h3>
		<ul id="Ul1">
			<li>元素1 <a href="javascript:">删除</a></li>
			<li>元素2 <a href="javascript:">删除</a></li>
			<li>元素3 <a href="javascript:">删除</a></li>
			<li>元素4 <a href="javascript:">删除</a></li>
		</ul>
		<script>
			var oUl1=document.getElementById("Ul1");
			var aA=oUl1.getElementsByTagName("a");
			
			for(var i=0; i<aA.length; i++)
			{	
				aA[i].onclick=function()		
				{
					oUl1.removeChild(this.parentNode);		//删除ul里的子节点，既是a对应的父节点
				}
			}			
			
		</script>
		
		
		<!---------------- 文档碎片 ---------------><hr />
		<h3>文档碎片：把大量碎片化的事件打包放到一个数组里，然后再拿来使用</h3>
		<p>创建文档碎片：document.createDocumentFragment();</p>
		<input id="btn1" type="button" value="文档碎片"/>
		<ul id="uL2"></ul>
		<script>
			var oUl2=document.getElementById("uL2");
			var btn=document.getElementById("btn1");
			var aFrag=document.createDocumentFragment();		//创建一个文档碎片
			btn.onclick=function()
			{
				for(var i=0; i<100; i++)
				{
					var aLi=document.createElement("li");		//遍历创建100个li标签
					aFrag.appendChild(aLi);				//把li加到aFrag文档碎片里
				}
				oUl2.appendChild(aFrag);			//再把碎片加到oUl里，生成100个li标签
			}
				
		</script>
	</body>
</html>
