<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>course24-正则表达式</title>
	</head>
	<body>
		<!----------------筛选出字符串里的数字------------------>
		<h3>筛选出字符串里的数字</h3>
		<p>16 fb gtg897 878rg 5556 -==-878==rvgr</p>
		<button id="btn">普通方法</button>
		<button id="btn1">正则表达式方法</button>
		<script>			
			var oBtn=document.getElementById("btn");
			var oBtn1=document.getElementById("btn1");
			var str="16 fb gtg897 878rg 5556 -==-878==rvgr";
			
			//普通方法
			oBtn.onclick=function(){				
				var temp="";
				var 01arr=[];
				for (var i=0; i<str.length; i++) {
					if(str.charAt(i)>="0" && str.charAt(i)<="9"){	//charAt(i)选取字符串中的某个字符，如果是数字
						temp+=str.charAt(i);	//把数字放到临时空字符串temp里						
					}					
					else{	//当是非数字时，把之前存储的数字temp添加到arr（把temp作为arr数组里的一个数）
						if(temp){				//当temp里含有字符串
							arr.push(temp);		//把temp里的字符串存到数字arr里
							temp="";			//并把temp清空
						}
					}				
				}
				alert(arr);
			};			
			
			//正则表达式方法			
			oBtn1.onclick=function(){
				//match：把所有匹配的东西全部提取出来
				alert(str.match(/\d+/g));	//注释：\d表示数字；g（global）找出全部；+表示若干个数字
			}			
		</script>
		
		
		<!----------------一个简单的正则表达式------------------><hr />
		<h3>一个简单的正则表达式</h3>
		<button id="btn2">正则表达式</button>
		<script>
			var oBtn=document.getElementById("btn2");	
			oBtn.onclick=function(){
//				var re = new RegExp("a", "i");	//写法一：js风格； 验证字符串为“a”的正则表达式，添加i不区分大小写
				var re = /a/i;  	//写法二：perl风格
				var str = "Abcdefg";
				alert(str.search(re));	//搜索a在哪个位置，若没有返回-1
			}	
		</script>
		
		
		
		<!----------------replace替换------------------><hr />
		<h3>replace替换：把a替换成0</h3>
		<p>bca516agijaraaan4R版本</p>
		<button id="btn3">replace</button>
		<script>
			var oBtn=document.getElementById("btn3");	
			oBtn.onclick=function(){
				var str= "bc a516 agij a r aaa n4R版本";
				var re = /a/g;
				alert(str.replace(re, "0"));	//把全部a替换成0	
			}	
		</script>
		
		
		
		<!----------------replace替换方法实现敏感词过滤------------------><hr />
		<h3>replace替换方法实现敏感词过滤</h3>
		<textarea id="txt1"></textarea>
		<button id="btn4">过滤</button>
		<textarea id="txt2"></textarea>
		<style>
			#txt1,#txt2,#txt3,#txt4{width: 300px;height: 200px;}
		</style>
		<script>
			var oBtn=document.getElementById("btn4");
			var oTxt1=document.getElementById("txt1");
			var oTxt2=document.getElementById("txt2");
			oBtn.onclick=function(){
				var re = /杭州|淘宝/g;
				oTxt2.value = oTxt1.value.replace(re, "***");
			}	
		</script>
		
		
		
		<!----------------[]元字符的使用------------------><hr />
		<h3>[]元字符的使用（[]：或的意思）</h3>
		<p>
			[gerogo]：某些字符			<br />
			[a-z]：字母范围			<br />
			[0-9]：数字范围			<br />
			[^a-z]：排除字母
		</p>
		<button id="btn5">元字符</button>
		<script>
			var oBtn=document.getElementById("btn5");	
			oBtn.onclick=function(){
				var str= "opc xpc epc dpc npc cpc156 61fgf5555aaa5555 g51rvgrfb "
				var re1 = /[one]pc/g;	//找出全部的opc, npc, epc
				var re2 = /[0-9]+/g;	//找出数字
				var re3 = /[a-d]+/g;	//找出a-d的字母
				var re4 = /[^5]/g;		//找出除了5外的字符
				alert(str.match(re1));
				alert(str.match(re2));
				alert(str.match(re3));
				alert(str.match(re4));
			}	
		</script>
		
		
		
		<!----------------过滤HTML标签------------------><hr />
		<h3>过滤HTML标签</h3>
		<textarea id="txt3"></textarea>
		<button id="btn6">过滤</button>
		<textarea id="txt4"></textarea>
		<script>
			var oBtn=document.getElementById("btn6");
			var oTxt1=document.getElementById("txt3");
			var oTxt2=document.getElementById("txt4");
			oBtn.onclick=function(){
				var re = /<[^<>]+>/g;		//html标签里面不能再有<>，所以这里为“<除了<>以外的所有字符>”
				oTxt2.value = oTxt1.value.replace(re, "");
			}	
		</script>
		
		
		
		<!----------------正则表达式的转义字符------------------><hr />
		<h3>正则表达式的转义字符</h3>
		<p>
			. 	      点代表任意字符								<br />
			\d  ：   数字					[0-9] 				<br />
			\w	：   英文，数字，下划线		[a-z|0-9|_ ]		<br />
			\s  ：   空字符										<br />
			
			\D  ：   非数字					[^0-9]				<br />
			\W  ：   非英文，非数字，非下划线	[^a-z|0-9|_ ]		<br />
			\S  ：   非空字符
		</p>
		<button id="btn7">转义字符</button>
		<script>
			var oBtn=document.getElementById("btn7");	
			oBtn.onclick=function(){
				var str= " dpc_npc cpc156 61fgf5 5aaa5555 g51rvgrfb 我是你爸爸"
				var re1=/\w+/g;		
				var re2=/\s+/g;
				var re3=/\D+/g;
				var re4=/\W+/g;
				var re5=/\S+/g;
				alert(str.match(re1));
				alert(str.match(re2));		//五个空字符
				alert(str.match(re3));
				alert(str.match(re4));
				alert(str.match(re5));
			}	
		</script>
		
		
				
		<!----------------常用量词应用：邮箱校验------------------><hr />
		<h3>常用量词应用：邮箱校验</h3>
		<p>
			{n} ：正好出现n次；			例如：固定电话(8位数)：[1-9]\d{7} 首位不能为零，之后7个数字 			<br />
			{n,m} ：最少n次，最多m次；	例如：QQ号(5-13位数)：[1-9]	\d{5,13}							<br />
			{n,} ：最少n次，最多无上限；																<br />
			  + ：一次或者任意次，等价于{1，}															<br />
			    ？	：0次或者1次，等价于{0,1}；	例如：021-26516516固话（区号可有可无）：(0\d{2,3}-)?[1-9]\d{7}  <br />		
		</p>
		<input type="text" id="txt5" />
		<button id="btn8">校验邮箱</button>
		<script>
			/*------   邮箱： 一串英文、数字、下划线@一串英文、数字.一串英文     -----*/
			/*------   正则表达式：          \w 	@ [a-z0-9]  \.	[a-z]     -----*/
			var oBtn=document.getElementById("btn8");
			var oTxt=document.getElementById("txt5");	
			oBtn.onclick=function(){
				//点要用\. 邮箱不区分大小写添加i	^行首，$行尾（把正则表达式括起来，便于test）
				var re = /^\w+@[a-z0-9]+\.[a-z]+$/i;	
				if (re.test(oTxt.value)) {		//test检验oTxt.value字符串是否符合re正则表达式；
					alert("合法邮箱");
				}
				else{
					alert("非法邮箱");
				}
			}	
		</script>
	</body>
</html>
