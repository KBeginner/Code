<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>
        /*
            应用Proxy代理对象的方法，自定义创建dom节点；
        */
        let DOM = new Proxy({},{
            get(target, property){      //target对象；property为调用的属性;
                return (attr={}, ...children)=>{
                    // console.log(attr, text);
                    const el = document.createElement(property);      //创建一个新标签
                    //循环给新标签添加属性
                    for (let key of Object.keys(attr)){
                        el.setAttribute(key,attr[key]);
                    }
                    //循环创建子元素
                    for (let child of children){
                        // console.log(txt);
                        if (typeof child == 'string'){          //如果传入的是字符串
                            child = document.createTextNode(child);     //则创建一个文本节点存储字符串（内容）
                        }
                        el.appendChild(child);      //否则添加el的子节点
                    }
                    return el;   //返回一个创建好的新标签
                }
            }
        });

        let oDiv = DOM.div(
            {id:'div1', class:'aaa'},'this is a div', ' and create div by proxy ',    //第一个div
            DOM.a({id:'a',href:'https://www.baidu.com'}, '百度一下，你就知道'),     //div里面的a标签
        );
        let oUl = DOM.ul({},
            DOM.li({},'111'),
            DOM.li({},'222'),
            DOM.li({},'333')
        );
       window.onload = function () {
           document.body.appendChild(oDiv);
           document.body.appendChild(oUl);
       }
    </script>
</body>
</html>